extends ../layout

block title
	title= __('СОБЫТИЯ') + ' | ' + event.i18n.title.get('ru').toUpperCase()

block content_style
	link(rel='stylesheet', type='text/css', href='/build/css/event.css' + version)

block content_scripts
	script(type='text/javascript', src='/build/js/scroll.js' + version)
	script(type='text/javascript', src='/build/js/event.js' + version)

mixin compareInterval(start, end)
	- var months = ['января', 'февраля', 'марта', 'апреля', 'мая', 'июня', 'июля', 'августа', 'сентября', 'октября', 'ноября', 'декабря']
	if (start.getDate() == end.getDate() && start.getMonth() == end.getMonth() && start.getFullYear() == end.getFullYear())
		!= start.getDate() + ' ' + months[event.interval.start.getMonth()] + ' ' + start.getFullYear()
	else
		!= start.getDate() + ' ' + months[start.getMonth()] + ' ' + start.getFullYear() + ' - ' + end.getDate() + ' ' + months[end.getMonth()] + ' ' + end.getFullYear()


block content
	.content_title= event.i18n.title.get('ru')
	if (!event.interval.hidden)
		.content_date: +compareInterval(event.interval.start, event.interval.end)


	.content_subs= event.subsidiary && event.subsidiary.i18n.title.get('ru')

	.content_body: != event.i18n.description.get('ru')

	if (event.videos && event.videos.length == 1)
		.content_video_block
			each video in event.videos
				.content_video_item.important_video: != video
	else if (event.videos && event.videos.length > 1)
		.content_video_block
			each video in event.videos
				.content_video_item: != video


block scroll
	.content_title
	.content_scroll_items
		each image in event.images
			.content_scroll_item
				img(src=image.thumb)
				if (image.description[0].value != '')
					.content_image_description: != image.description[0].value